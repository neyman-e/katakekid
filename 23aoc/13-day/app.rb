require 'benchmark'

require_relative 'data-reader'
require_relative 'pattern'
require_relative 'smudge-pattern'

def aoc_separator
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
  puts "###########################################################################"
end

# aoc_separator

total_time = Benchmark.measure do
  filename = 'example.txt'
  filename = 'input.txt'
  # filename = 'test.txt'
  input = DataReader.new(filename)
  pattern_notes = []
  smudge_pattern_notes = []
  input.data.each_with_index do |chunk, pattern_number|
    pattern = Pattern.new(chunk)
    pattern_notes << pattern.result
    smudge_pattern = SmudgePattern.new(chunk, pattern_number)
    smudge_pattern_notes << smudge_pattern.result
  end
  puts "Part1: #{pattern_notes.sum} is the total sum of notes for every pattern."
  puts "Part2: #{smudge_pattern_notes.sum} is the total sum of notes for every pattern with only 1 smudge"
end
puts
puts "The total time spent in the app was #{total_time.real * 1000}ms"
